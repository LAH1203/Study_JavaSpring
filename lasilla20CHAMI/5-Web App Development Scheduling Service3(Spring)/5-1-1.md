μƒνƒμ •λ³΄λ€?
=
### μ›Ήμ—μ„μ μƒνƒ μ μ§€ κΈ°μ 

> HTTPν”„λ΅ν† μ½μ€ μƒνƒ μ μ§€κ°€ μ•λλ” ν”„λ΅ν† μ½μ…λ‹λ‹¤.
- μ΄μ „μ— λ¬΄μ—‡μ„ ν–κ³ , μ§€κΈ λ¬΄μ—‡μ„ ν–λ”μ§€μ— λ€ν• μ •λ³΄λ¥Ό κ°–κ³  μμ§€ μ•μµλ‹λ‹¤.
- μ›Ή λΈλΌμ°μ €(ν΄λΌμ΄μ–ΈνΈ)μ μ”μ²­μ— λ€ν• μ‘λ‹µμ„ ν•κ³  λ‚λ©΄ ν•΄λ‹Ή ν΄λΌμ΄μ–ΈνΈμ™€μ μ—°κ²°μ„ μ§€μ†ν•μ§€ μ•μµλ‹λ‹¤. μƒνƒ μ μ§€λ¥Ό μ„ν•΄ `Cookie`μ™€ `Session`κΈ°μ μ΄ λ“±μ¥ν•©λ‹λ‹¤.
 

### μΏ ν‚¤(Cookie)μ™€ μ„Έμ…(Session)

> μΏ ν‚¤
- μ‚¬μ©μ μ»΄ν“¨ν„°μ— μ €μ¥
- μ €μ¥λ μ •λ³΄λ¥Ό λ‹¤λ¥Έ μ‚¬λ λλ” μ‹μ¤ν…μ΄ λ³Ό μ μλ” λ‹¨μ 
- μ ν¨μ‹κ°„μ΄ μ§€λ‚λ©΄ μ‚¬λΌμ§
> μ„Έμ…
- μ„λ²„μ— μ €μ¥
- μ„λ²„κ°€ μΆ…λ£λκ±°λ‚ μ ν¨μ‹κ°„μ΄ μ§€λ‚λ©΄ μ‚¬λΌμ§‘λ‹λ‹¤.
 

- μΏ ν‚¤(Cookie) λ™μ‘ μ΄ν•΄ 1/2
![image](https://user-images.githubusercontent.com/22065527/120216487-0f149700-c272-11eb-91a0-38b17ce3258e.png)

- μΏ ν‚¤(Cookie) λ™μ‘ μ΄ν•΄ 1/2
![image](https://user-images.githubusercontent.com/22065527/120216549-22276700-c272-11eb-944a-29c45b1360a1.png)


- μ„Έμ…μ λ™μ‘ μ΄ν•΄ 1/2
![image](https://cphinf.pstatic.net/mooc/20180221_246/15191878577834bPNF_PNG/3.png)

- μ„Έμ…μ λ™μ‘ μ΄ν•΄ 2/2
![image](https://cphinf.pstatic.net/mooc/20180221_236/15191878600705qUuz_PNG/4.png)

<br>
<br>

π μΏ ν‚¤λ€?
==

> ν΄λΌμ΄μ–ΈνΈ λ‹¨μ— μ €μ¥λλ” μ‘μ€ μ •λ³΄μ λ‹¨μ„μ…λ‹λ‹¤.
? ν΄λΌμ΄μ–ΈνΈμ—μ„ μƒμ„±ν•κ³  μ €μ¥λ  μ μκ³ , μ„λ²„ λ‹¨μ—μ„ μ „μ†΅ν• μΏ ν‚¤κ°€ ν΄λΌμ΄μ–ΈνΈμ— μ €μ¥λ  μ μμµλ‹λ‹¤.
 

- μ΄μ© λ°©λ²•

- - μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈμ λΈλΌμ°μ €λ΅ μ „μ†΅λμ–΄ μ‚¬μ©μμ μ»΄ν“¨ν„°μ— μ €μ¥ν•©λ‹λ‹¤.
- - μ €μ¥λ μΏ ν‚¤λ” λ‹¤μ‹ ν•΄λ‹Ήν•λ” μ›Ή νμ΄μ§€μ— μ ‘μ†ν•  λ•, λΈλΌμ°μ €μ—μ„ μ„λ²„λ΅ μΏ ν‚¤λ¥Ό μ „μ†΅ν•©λ‹λ‹¤.
- - μΏ ν‚¤λ” μ΄λ¦„(name)κ³Ό κ°’(value) μμΌλ΅ μ •λ³΄λ¥Ό μ €μ¥ν•©λ‹λ‹¤.
- - μ΄λ¦„-κ°’ μ μ™Έμ—λ„ λ„λ©”μΈ(Domain), κ²½λ΅(Path), μ ν¨κΈ°κ°„(Max-Age, Expires), λ³΄μ•(Secure), HttpOnly μ†μ„±μ„ μ €μ¥ν•  μ μμµλ‹λ‹¤.
 

- μΏ ν‚¤λ” κ·Έ μμ™€ ν¬κΈ°μ— μ ν•

- - λΈλΌμ°μ €λ³„λ΅ μ ν• κ°’μ„ λ‹¤λ¥΄κ² κ°€μ Έκ°€κ³  μμµλ‹λ‹¤. 
- - μ°Έκ³  : http://browsercookielimits.squawky.net/
 

### javax.servlet.http.Cookie

- μ„λ²„μ—μ„ μΏ ν‚¤ μƒμ„±, Reponseμ addCookieλ©”μ†λ“λ¥Ό μ΄μ©ν•΄ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅
```java
Cookie cookie = new Cookie(μ΄λ¦„, κ°’);
response.addCookie(cookie);
```

- μΏ ν‚¤λ” (μ΄λ¦„, κ°’)μ μ μ •λ³΄λ¥Ό μ…λ ¥ν•μ—¬ μƒμ„±ν•©λ‹λ‹¤.

- ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ μΏ ν‚¤ μ •λ³΄ μ½κΈ°
```java
Cookie[] cookies = request.getCookies)();
```

- μΏ ν‚¤ κ°’μ΄ μ—†μΌλ©΄ nullμ΄ λ°ν™λ©λ‹λ‹¤.
- Cookieκ°€ κ°€μ§€κ³  μλ” getName()κ³Ό getValue()λ©”μ†λ“λ¥Ό μ΄μ©ν•΄μ„ μ›ν•λ” μΏ ν‚¤μ •λ³΄λ¥Ό μ°Ύμ•„ μ‚¬μ©ν•©λ‹λ‹¤.

- ν΄λΌμ΄μ–ΈνΈμ—κ² μΏ ν‚¤ μ‚­μ  μ”μ²­
> μΏ ν‚¤λ¥Ό μ‚­μ ν•λ” λ…λ Ήμ€ μ—†κ³ , maxAgeκ°€ 0μΈ κ°™μ€ μ΄λ¦„μ μΏ ν‚¤λ¥Ό μ „μ†΅ν•©λ‹λ‹¤.

```java
Cookie cookie = new Cookie("μ΄λ¦„", null);
cookie.setMaxAge(0);
response.addCookie(cookie);
```

### μΏ ν‚¤μ μ ν¨κΈ°κ°„ μ„¤μ •

> λ©”μ†λ“ setMaxAge()
- μΈμλ” μ ν¨κΈ°κ°„μ„ λ‚νƒ€λ‚΄λ” μ΄ λ‹¨μ„μ μ •μν•
- λ§μΌ μ ν¨κΈ°κ°„μ„ 0μΌλ΅ μ§€μ •ν•λ©΄ μΏ ν‚¤μ μ‚­μ 
- μμλ¥Ό μ§€μ •ν•λ©΄ λΈλΌμ°μ €κ°€ μΆ…λ£λ  λ• μΏ ν‚¤κ°€ μ‚­μ  μ ν¨κΈ°κ°„μ„ 10λ¶„μΌλ΅ μ§€μ •ν•λ ¤λ©΄ *cookie.setMaxAge(10 * 60);* //μ΄ λ‹¨μ„ : 10λ¶„
- 1μ£ΌμΌλ΅ μ§€μ •ν•λ ¤λ©΄ *(7*24*60*60)* λ΅ μ„¤μ •ν•©λ‹λ‹¤.

![image](https://cphinf.pstatic.net/mooc/20180221_109/1519193077699vJM62_PNG/1.png)

### Spring MVUμ—μ„μ Cookie μ‚¬μ©

*@CookieValue* μ• λ…Έν…μ΄μ… μ‚¬μ©

μ»¨νΈλ΅¤λ¬ λ©”μ†λ“μ νλΌλ―Έν„°μ—μ„ CookieValueμ• λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•¨μΌλ΅μ¨ μ›ν•λ” μΏ ν‚¤μ •λ³΄λ¥Ό νλΌλ―Έν„° λ³€μμ— λ‹΄μ•„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
μ»¨νΈλ΅¤λ¬λ©”μ†λ“ *(@CookieValue(value="μΏ ν‚¤μ΄λ¦„", required=false, defaultValue="κΈ°λ³Έκ°’")* String λ³€μλ…)
